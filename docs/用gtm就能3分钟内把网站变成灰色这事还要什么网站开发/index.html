<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="https://up.ac.cn/images/favicon.png" /><title>用GTM就能3分钟内把网站变成灰色，这事还要什么网站开发 | 烧钱学院</title>
<meta name="title" content="用GTM就能3分钟内把网站变成灰色，这事还要什么网站开发" />
<meta name="description" content="想要把整个网站变成灰色，你不需要替换网站图片或者网站内的任何彩色元素，甚至都不需要任何网站开发人员的协助，3分钟就能用GTM完全实现" />
<meta name="keywords" content="GTM代码管理器," /><meta name="referrer" content="no-referrer-when-downgrade" />
  <style type="text/css">body{font-family:Helvetica,sans-serif;font-size:1.3em;margin:auto;padding:20px;max-width:720px;text-align:justify;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444;}h1,h2,h3,h4,h5,h6,strong,b{color:#222;}a{color:#3273dc;}.title{text-decoration:none;border:0;}.title span{font-weight:500;}nav a{margin-right:10px;}textarea{width:100%;font-size:16px;}input{font-size:16px;}content{line-height:1.6;}table{width:100%;}img{max-width:100%;}code{padding:2px 5px;background-color:#f2f2f2;}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px;}div.highlight pre{background-color:initial;color:initial;}div.highlight code{background-color:unset;color:unset;}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic;}footer{padding:25px;text-align:center;}.helptext{color:#777;font-size:small;}.errorlist{color:#eba613;font-size:small;}ul.blog-posts{list-style-type:none;padding:unset;}ul.blog-posts li{display:flex;}ul.blog-posts li span{flex:0 0 130px;}ul.blog-posts li a:visited{color:#8b6fcb;}@media (prefers-color-scheme:dark){body{background-color:#333;color:#ddd;}h1,h2,h3,h4,h5,h6,strong,b{color:#eee;}a{color:#8cc2dd;}code{background-color:#777;}pre code{color:#ddd;}blockquote{color:#ccc;}textarea,input{background-color:#252525;color:#ddd;}.helptext{color:#aaa;}}</style>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-96Z4V0B7J7"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-96Z4V0B7J7');
  </script>
</head>
<body>
<header><a href="/" class="title">
  <h2>烧钱学院</h2>
</a>
<nav><a href="/">首页</a>

<a href="/blog">文章</a>


<a href="/about/">关于</a>
</nav></header>
<main>

<h1>用GTM就能3分钟内把网站变成灰色，这事还要什么网站开发</h1>
<p>
  <i>
    <time datetime='2022-05-12' pubdate>
      2022-05-12
    </time>
  </i>
</p>

<content>
  <p>每逢重大灾难事件，国内很多网站将设计变成灰色，以示哀悼之情。整个网站变灰色是怎么实现的？如果网站已经安装了GTM代码管理器，你自己3分钟内就能把网站变成灰色。</p>
<h2 id="利用gtm代码管理器把网站变成灰色">利用GTM代码管理器把网站变成灰色</h2>
<p>GTM代码管理器（Google Tag Manager）是一个 Google 官方工具，安装到网站后，可以用来添加和管理第三方代码段。GTM代码管理器就像“中间人”，用于连接网站和其他第三方代码。所以只安装GTM没有任何作用，需要在GTM中配置第三方代码后才能发挥作用。</p>
<p>在 Google 官方的GTM代码管理器帮助中心有更多介绍，例如：<a href="https://support.google.com/tagmanager/answer/6103696?hl=zh-Hans" target="_blank" rel="noopener">设置和安装跟踪代码管理器</a>。</p>
<p>将网站变成灰色，方式很多，但归根到底都是通过添加CSS灰色滤镜来改变网站元素的显示。所以你不需要修改现有的任何彩色元素，只需要几行代码即可。</p>
<p>简单三个步骤即可将整个网站变成灰色：</p>
<ol>
<li>在GTM中新建一个 <code>Custom HTML</code> 的Tag，Triggering 选择 All Pages，意思是对网站上的所有页面有效</li>
<li>复制粘贴下面的代码到 <code>HTML</code> 输入框内，这段 style 将添加 CSS 样式</li>
<li>点击右上角 Submit 发布修改后的 GTM，刷新网站就可以看到效果了</li>
</ol>
<p>复制以下代码到新建的Tag中：</p>
<pre tabindex="0"><code>&lt;style type=&#34;text/css&#34;&gt;
html {
filter: progid:DXImageTransform.Microsoft.BasicImage(grayscale=1);
-webkit-filter: grayscale(100%);}
&lt;/style&gt;
</code></pre><p><img src="/images/2022/0327-%E4%BF%AE%E6%94%B9GTM%E6%8A%8A%E7%BD%91%E7%AB%99%E5%8F%98%E6%88%90%E7%81%B0%E8%89%B2.png" alt="修改GTM把网站变成灰色"></p>
<p>注意：除上面的代码外，还有其他方式的代码也可以实现，例如 <code>Javascript</code> 代码，不过我喜欢用上面的 Style 来直接添加 CSS 样式。</p>
<h2 id="通过网站管理把网站变成灰色">通过网站管理把网站变成灰色</h2>
<p>万一没有安装 GTM，或者无论如何配置也搞不定，可以直接在网站管理后台安装上面的代码，效果相同。</p>
<p>绝大多数网站管理后台都有一个类似于“第三方代码”的管理功能，通常默认会把添加的“第三方代码”放在 <code>&lt;head&gt;</code> 标签中。也有一些网站提供更完善的第三方代码管理功能，例如可以选择把代码安装在 <code>&lt;head&gt;</code> 、 <code>&lt;body&gt;</code> 或 <code>&lt;footer&gt;</code>中。如果你遇到，请选择安装在<code>&lt;head&gt;</code> 中。</p>
<h2 id="为什么我的网站没有变成灰色">为什么我的网站没有变成灰色？</h2>
<p>上面两种方式二选一即可，如果设置后网站没有变成灰色，建议直接找网站开发同事解决。</p>
</content>
<p>
  
  <a href="https://up.ac.cn/blog/gtm%E4%BB%A3%E7%A0%81%E7%AE%A1%E7%90%86%E5%99%A8/">#GTM代码管理器</a>
  
</p>
</main>
<footer>Copyright © 2022 <a href="https://up.ac.cn">Plato</a>. 订阅网站 <a href="https://up.ac.cn/index.xml" target="_blank">RSS</a></footer>
</body>
</html>